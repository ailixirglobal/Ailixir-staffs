{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center">
        <h3 class="fw-bold">{{ product.name }}</h3>

        {% if perms.products.change_product %}
        <a href="{% url 'products:edit' product.slug %}" class="btn btn-warning">
            <i class="bi bi-pencil-square"></i> Edit Product
        </a>
        {% endif %}
    </div>

    <div class="row mt-4">

        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" class="img-fluid rounded">
                    {% else %}
                    <img src="{% static 'images/no-image.png' %}" class="img-fluid rounded">
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-body">

                    <h5 class="fw-bold">Description</h5>
                    <p>{{ product.description|default:"No description" }}</p>
                    <hr>

                    {% if product.dosage %}
                    <h6 class="fw-bold">Dosage</h6>
                    <p>{{ product.dosage }}</p>
                    {% endif %}

                    {% if product.usage_instructions %}
                    <h6 class="fw-bold">Usage Instructions</h6>
                    <p>{{ product.usage_instructions }}</p>
                    {% endif %}

                    {% if product.side_effects %}
                    <h6 class="fw-bold">Side Effects</h6>
                    <p>{{ product.side_effects }}</p>
                    {% endif %}

                    {% if product.storage_info %}
                    <h6 class="fw-bold">Storage Info</h6>
                    <p>{{ product.storage_info }}</p>
                    {% endif %}

                    <hr>

                    <h4 class="fw-bold text-success">
                        Price: {{ product.price }} NGN
                    </h4>

                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}